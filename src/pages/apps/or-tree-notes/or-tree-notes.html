<template>
  <require from="../or-tree-notes/or-tree-notes"></require>

  <h1>${value}</h1>

  <button click.delegate="changeText()">Change text</button>
  <button click.delegate="undo()">Undo</button>

  <div ref="notesContainerRef" class="notes-container">
    <!-- Lines -->
    <template repeat.for="line of lines">
      <!-- Checkbox -->
      <label
        if.bind="line.macro.checkbox"
        class="${line.macro.checkbox.value ? 'checkbox--checked' : ''}"
      >
        <input type="checkbox" checked.bind="line.macro.checkbox.value" />
        <span class="${editorLineClass}" ref="lineSpanRef">${line.text}</span>
      </label>
      <!-- Default line -->
      <!-- display: inline -->
      <div
        if.bind="isDefaultLine(line)"
        class="${editorLineClass}"
        ref="lineSpanRef"
        >${line.text}</div
      >
    </template>

    <!-- Caret -->
    <span
      ref="caretRef"
      id="caret"
      data-test="caret"
      class="caret-${currentModeName} caret-blinking"
    ></span>
  </div>
</template>
