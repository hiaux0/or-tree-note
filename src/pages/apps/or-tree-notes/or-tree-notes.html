<template>
  <require from="../or-tree-notes/or-tree-notes"></require>
  <require from="./note-line/note-line"></require>

  <h1>${value}</h1>

  <button click.delegate="undo()">Undo</button>
  <button click.delegate="resetStore()">Reset Store</button>

  <div class="otn-container mode-${vimMode}">
    <!-- *** -->
    <!-- OTN -->
    <!-- *** -->

    <div ref="notesContainerRef" class="notes-container">
      <!-- Lines -->
      <template repeat.for="line of lines">
        <note-line
          line.bind="line"
          editor-line-class.bind="editorLineClass"
          line-highlight-end.bind="($index === vimState.visualEndCursor.line) && vimState.visualEndCursor.col"
          line-highlight-start.bind="($index === vimState.visualStartCursor.line) && vimState.visualStartCursor.col"
        ></note-line>
      </template>

      <!-- Caret -->
      <span
        ref="caretRef"
        id="caret"
        data-test="caret"
        class="caret-${currentModeName} caret-blinking"
      ></span>
    </div>

    <!-- ********** -->
    <!-- Debug Mode -->
    <!-- ********** -->

    <div class="debug-mode-container">
      <div style="text-decoration: underline"> Debug mode </div>
      <div>
        <strong>Cursor</strong> C: ${cursorPosition.col} - L:
        ${cursorPosition.line}
      </div>
    </div>
  </div>
</template>
