<template>
  <!-- Container -->
  <div class="everyComponentContainer" ref="containerRef">
    <!-- Vim info -->
    <div class="vimInfoContainer">
      <div>Mode: ${vimState.mode}</div>
    </div>

    <!-- Original Notes -->
    <div
      class="
        noteContainer
        container
        mode-${vimState.mode}
        ${active
        ?
        'container--active'
        :
        'container--deactive'}
      "
      ref="noteContainerRef"
    >
      <!-- input -->
      <div
        class="inputContainer"
        ref="inputContainerRef"
        contenteditable.bind="contenteditable"
      >
        <template repeat.for="line of vimState.lines">
          <div class="inputLine">${line.text}</div>

          <!-- DEBUG: insert autofocus -->
          <!-- <div
            if.bind="$index === 0"
            contenteditable="true"
            autofocus
            class="inputLine"
            >${line.text}</div
          >
          <div else contenteditable class="inputLine">${line.text}</div> -->
        </template>
      </div>

      <!-- caret -->
      <!-- Now handle in VimUiV2 -->
      <!-- <div id="caret" ref="caretRef"></div> -->
    </div>

    <!-- Copied Notes -->
    <div class="copiedNoteContainer">
      <div class="inputLineContainer">
        <template repeat.for="line of tempVimStateInsertMode.lines">
          <div class="copiedInputLine">${line.text}</div>
        </template>
      </div>

      <!-- debug -->
      <!-- debugContainer -->
      <div class="debugContainer">
        <div style="text-decoration: underline">
          Debug mode (${tempVimStateInsertMode.mode})</div
        >
        <div>
          <strong>Cursor</strong>
          L: ${tempVimStateInsertMode.cursor.line} - C:
          ${tempVimStateInsertMode.cursor.col}
        </div>
        <div>
          <strong>Text:</strong>
          ${tempVimStateInsertMode.lines[tempVimStateInsertMode.cursor.line].text}</div
        >
        <div>
          <strong># of lines: </strong>
          ${tempVimStateInsertMode.lines.length}
        </div>
      </div>
    </div>
  </div>
</template>
